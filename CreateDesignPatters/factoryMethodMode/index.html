<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    // 安全工厂类
    // const Demo = function () {
    //   if (!(this instanceof Demo)) {
    //     return new Demo();
    //   }
    //   this.name = 'srbtj';
    //   this.age = 18;
    // }

    // Demo.prototype.showName = function () {
    //   console.log(this.name);
    // }
    // Demo.prototype.showAge = function () {
    //   console.log(this.age);
    // }
    // var d = Demo();
    // d.showName();
    // d.showAge();
  </script>
  <script>
    // 安全工厂方法 
    // const Factory = function (type, content) {
    //   if (this instanceof Factory) {
    //     return new this[type](content);
    //   } else {
    //     return new Factory(type, content);
    //   }
    // }

    // Factory.prototype = {
    //   constructor: Factory,
    //   'Javascript': function (content) {
    //     this.content = content;
    //     console.log(this.content);
    //   },
    //   'Php': function (content) {
    //     this.content = content;
    //     console.log(this.content);
    //   },
    //   'Nodejs': function (content) {
    //     this.content = content;
    //     console.log(this.content);
    //   }
    // }

    // Factory('Javascript', 'javascript是世界上最好的语言');
  </script>
  <script>
    // 安全工厂方法实现不同的按钮
    function ButtonFactory (type, content) {
      if (this instanceof ButtonFactory) {
        return this[type](content);
      } else {
        return new ButtonFactory(type, content);
      }
    }

    ButtonFactory.prototype = {
      constructor: ButtonFactory,
      'alert': function (content) {
        this.content = content;
        (function () {
          const frag = document.createDocumentFragment();
          var btn = document.createElement('button');
          btn.textContent = content;
          frag.appendChild(btn);
          document.body.appendChild(frag);
        })();
      },
      'confirm': function (content) {
        this.content = content;
        (function () {
          const frag = document.createDocumentFragment();
          var btn = document.createElement('button');
          btn.textContent = content;
          frag.appendChild(btn);
          document.body.appendChild(frag);
        })();
      },
      'button': function (content) {
        this.content = content;
        (function () {
          const frag = document.createDocumentFragment();
          var btn = document.createElement('button');
          btn.textContent = content;
          frag.appendChild(btn);
          document.body.appendChild(frag);
        })();
      }
    };

    ButtonFactory('alert', 'alert按钮');
    ButtonFactory('button', 'button按钮');
    ButtonFactory('confirm', 'button按钮');
  </script>
</body>
</html>